<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin - Manage</title><style>body{font-family:system-ui;padding:20px;background:#111;color:#eee}table{width:100%;border-collapse:collapse}td,th{padding:8px;border-bottom:1px solid #333}button{padding:6px;border-radius:6px;border:0;background:#ef4444;color:#fff}</style></head><body><h1>Manage Videos</h1><div id="list">Loading...</div><script>async function load(){const r=await fetch('/list');const j=await r.json();const keys=Object.keys(j||{});if(!keys.length){document.getElementById('list').innerHTML='<p>No videos</p>';return;}let html='<table><tr><th>ID</th><th>Title</th><th>Actions</th></tr>';for(const id of keys){const v=j[id];html+='<tr><td>'+id+'</td><td>'+(v.title||v.source||'')+'</td><td><a href="/watch/'+id+'" target="_blank">Watch</a> <button onclick="del(\''+id+'\')">Delete</button></td></tr>'; }html+='</table>';document.getElementById('list').innerHTML=html;}window.del=async id=>{if(!confirm('Delete '+id+'?'))return;await fetch('/admin/delete',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:'id='+encodeURIComponent(id)});load();};load();</script></body></html>